\documentclass{article}



\usepackage{amsthm}
\usepackage{xcolor}
\usepackage{tikz-cd}
\usepackage{quiver}
\usepackage{mathtools}
\usepackage{bbm}
\usepackage[hidelinks]{hyperref}
\usepackage{stmaryrd}
\usepackage{graphicx}
\usepackage{amssymb}



\theoremstyle{definition}
\newtheorem{definition}{Definition}



\title{Designing and Modeling Complex Systems with Category Theory}
\author{Daniel Sinderson}
\date{May 2024}

\begin{document}
\maketitle

\section*{Introduction}
Category theory studies composition.
By studying and abstracting notions of composition, categories manage to encapsulate
a shockingly flexible and wide-reaching language for describing and working with structure of all sorts.
Much like the study of sets and the set membership of elements turns out to be capable of formalizing all of mathematics,
so too does category theory, except from a bird's eye point of view:
the details of a particular field go out of focus and only its high level structural patterns remain.
This is useful.
High levels of abstraction provide high levels of generality,
and a general, common language of how things are structured is useful for both organizing thought and sharing it.

Because of this generality, category theory also has some potential for
reformulating difficult problems in other fields or even
opening a broader class of thinking and phenomena to mathematical rigor.
This is an active field of research.
There are people using the tools of category to formalize and investigate everything from quantum mechanics and linguistics to philosophy and systems theory.

It's this last application to systems theory that we'll be looking more deeply at in this text.
Though we're merely wandering at the edge of the work being done, we'll see how to use category theory to build the specifications for, and investigate the behaviors of, dynamical systems built from the composition of smaller, simpler systems.
We'll do this by working through a case study for both discrete and differential deterministic equations.
For our first case study we'll build a state machine to control the behavior of agents in a game.
For our second case study we'll build a differential system for modeling a complicated food web.

With even this partial, introductory view of the subject matter
it should be easy to see the promise of this approach for facilitate thinking about
and designing models for complex systems.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section*{Category Theory Basics}
The first step to understanding category theory is to understand what a category is.
If you're new to higher mathematics it's time to take a deep breath.
This will seem like a lot.

\begin{definition}[Category]
    A category $\mathcal{C}$ is defined by the following:
    \begin{enumerate}
        \item $\mathcal{C}$ contains a collection of objects $ob(\mathcal{C})$. We'll denote that an object is in a category using set notation: $c\in\mathcal{C}$.
        \item For any two objects $a$, $b$ $\in \mathcal{C}$ there is a collection of morphisms, or arrows, between those objects $\mathcal{C}(a,b)$ called the homset. This is short for ``set of homomorphism." We'll denote an element $f\in\mathcal{C}(a,b)$ using function notation: $f:a\rightarrow b$.
        \item Every object $a\in \mathcal{C}$ has a morphism to itself $id_a:a\rightarrow a$ called its identity. This morphism doesn't do anything. It's like multiplying a number by 1.
        \item For every two morphisms $f:a\rightarrow b$ and $g: b\rightarrow c$ there's a third morphism $g\circ f:a\rightarrow c$ that's their composition. The circle is the symbol for function composition and $g \circ f$ is read ``g after f."

              \[\begin{tikzcd}
                      a && b \\
                      \\
                      && c
                      \arrow["f", from=1-1, to=1-3]
                      \arrow["g", from=1-3, to=3-3]
                      \arrow["{g\circ f}"', from=1-1, to=3-3]
                  \end{tikzcd}\]

    \end{enumerate}
    These objects and morphisms are then under the following two constraints:
    \begin{enumerate}
        \item (Unitality) Any morphism $f:a\rightarrow b$ can be composed with the identity morphisms of $a$ and $b$ such that $f\circ 1_a=1_b\circ f=f$. This makes the following diagram commute. What this means is that both paths from $a$ to $b$ here are equivalent.

              \[\begin{tikzcd}
                      a && b \\
                      \\
                      a && b
                      \arrow["f", from=1-1, to=1-3]
                      \arrow["{1_a}"', from=1-1, to=3-1]
                      \arrow["{1_b}", from=1-3, to=3-3]
                      \arrow["f"', from=3-1, to=3-3]
                  \end{tikzcd}\]

        \item (Associativity) For any morphisms $f:a\rightarrow b$, $g:b\rightarrow c$, and $h:c\rightarrow d$, $h\circ (g\circ f)=(h\circ g)\circ f$. Since it doesn't matter what order we apply the morphisms, we write this $h\circ g \circ f$.

              \[\begin{tikzcd}
                      a & b & c & d
                      \arrow["f"', from=1-1, to=1-2]
                      \arrow["g"', from=1-2, to=1-3]
                      \arrow["h"', from=1-3, to=1-4]
                      \arrow["{{g\circ f}}", curve={height=-24pt}, from=1-1, to=1-3]
                      \arrow["{{h\circ g}}"', curve={height=24pt}, from=1-2, to=1-4]
                  \end{tikzcd}\]

    \end{enumerate}
\end{definition}

Let's break this down a little bit.
We have a collection of objects with connections between them, and a couple of rules.
We know that every object is connected to itself.
And we know that if object $a$ is connected to $b$, and $b$ is connected to $c$, then $a$ is connected to $c$ through $b$.\footnote{For people with some background in math or logic this might be familiar as the transitive property.}
That's it.
Categories are honestly pretty simple.
But from these humble beginnings we're going to climb very high.

\subsection*{Functors and Categories of Categories}
Most mathematical structures have some way of mapping one instance of that structure to another instance.
Functions map sets to sets.
Linear transformations map vector spaces to other vector spaces.
And group homomorphisms map groups to other groups.
Since categories are a mathematical structure, like groups or vector spaces, it makes sense to ask if there exists a way to map between them.
Such a map would have to preserve all of the things that make a category a category: identity morphisms and composite morphisms, and the rules of unitality and associativity.
We call such a map between categories a functor.
\begin{definition}[Functor]
    A functor $F:\mathcal{C}\rightarrow\mathcal{D}$ is a map between categories $\mathcal{C}$ and $\mathcal{D}$ such that the following hold:
    \begin{enumerate}
        \item For any object $a\in ob(\mathcal{C})$ there is an object $Fa\in\ ob(\mathcal{D})$.
        \item For any morphism $f:a\rightarrow b$ between objects $a$ and $b$ in $\mathcal{C}$ there is a morphism $Ff:Fa\rightarrow Fb$ between objects $Fa$ and  $Fb$ in $\mathcal{D}$.
        \item For all objects $a\in ob(\mathcal{C})$ and $Fa\in ob(\mathcal{D})$, $F1_a=1_{Fa}$.
        \item For any composition of morphisms $g\circ f$ in $\mathcal{C}$, $F(g\circ f)=Fg\circ Ff$ in $\mathcal{D}$.
    \end{enumerate}
\end{definition}

There are some things to note here.
The first is that, like sets and functions, the mapping of objects from one category to another is unique.
Every object in the source category is mapped to exactly one object in the target category.
The same goes for morphisms.
The second is that identity morphisms get mapped to identity morphisms and compositions get mapped to compositions.
This ensures that our two rules, unitality and associativity, will be preserved since they're expressible purely in terms of composition of morphisms, identities and otherwise.

With functors in our toolbox, it's now possible to construct a category where the objects themselves are categories and the morphism between them are functors.
This, along with our next step, will prove to be extremely powerful.

\subsubsection*{Avoiding Paradox}
For anyone who has taken a course in logic or set theory, that last paragraph might be ringing some alarm bells.
Whenever we have recursion in our structure like this, there's the opportunity for paradox to sneak in.
The category of categories is no exception.

To avoid the paradox of whether the category of categories contains itself, category theorists employ formal notions of ``size" to differentiate distinct universes of categories.
These formalisms can get pretty technical though, so we'll be ignoring them in this paper.
For us it will be enough to assume that whenenever we talk about a category whose objects are also categories, our object categories are in some way ``smaller" than the category that they're a part of, and thus of a different type.\footnote{In general, this ``smallness" will be that the category's collection of objects forms a set.}

\subsection*{Functor Categories and Natural Transformations}
For our next, and last, step up into abstraction let's talk about functor categories.
Functor categories are categories whose objects are functors and whose morphisms are maps called natural transformations.

Since natural transformations map functors to other functors, we know that they must preserve the essential ``functor-ness'' of functors.
This ``functor-ness'' is a bit harder to pin down than the ``category-ness'' that functors themselves preserve.
We need to see what natural transformations do to functors, but also to what they do to the objects and arrows of the categories that the functors are acting on.

\begin{definition}[Natural Transformation]
    A natural transformation $\alpha :F\Rightarrow G$ is a map between functors $F:\mathcal{C}\rightarrow\mathcal{D}$ and $G:\mathcal{C}\rightarrow\mathcal{D}$ such that the following holds:
    \begin{enumerate}
        \item For each object $c\in\mathcal{C}$, there is a morphism $\alpha_c:Fc\rightarrow Gc$ in $\mathcal{D}$.
              This is called the $c$-component of $\alpha$.
        \item For every morphism $f:a\rightarrow b$ in $\mathcal{C}$, $\alpha_b\circ Ff=Gf\circ\alpha_a$.
              This is called the naturality condition, and it preserves functoriality.
    \end{enumerate}

    The naturality condition ensures that the following diagram commutes.
    \[\begin{tikzcd}
            Fa && Ga \\
            \\
            Fb && Gb
            \arrow["{\alpha_b}"', from=3-1, to=3-3]
            \arrow["Gf", from=1-3, to=3-3]
            \arrow["Ff"', from=1-1, to=3-1]
            \arrow["{\alpha_a}", from=1-1, to=1-3]
        \end{tikzcd}\]

\end{definition}

This definition is short but there's a lot going on in it.
There's a whole extra layer of stuff to keep track of since we added a layer of abstraction.
Let's get a better idea of what this definition captures by using a picture.\\

%\vspace*{0.25in}

\includegraphics*[scale=0.75]{NT2.png}\\

Here we see two simple categories, $\mathcal{C}$ and $\mathcal{D}$, and two functors $F$ and $G$ between them.
Let's dig into this picture a bit and pick apart the functors and the natural transformation.

First, let's note all the important mappings of the functors and the component morphisms of the natural transformation.
\begin{itemize}
    \item $Fa=x$, $Fb=x$, $Fc=y$, $Ff=id_x$, $Fg=k$, $F(g\circ f)=k$
    \item $Ga=x$, $Gb=y$, $Gc=y$, $Gf=k$, $Gg=id_y$, $G(g\circ f)=k$
    \item $N_a:Fa\rightarrow Ga = id_x$
    \item $N_b:Fb\rightarrow Gb = k$
    \item $N_c:Fc\rightarrow Gc = id_y$
\end{itemize}

Next, let's check that the functors preserve composition.\footnote{You should be able to convince yourself that they preserve identities.}
$$F(g\circ f) = k = k \circ id_x = Fg \circ Ff \ \ \ \ \checkmark$$
$$G(g \circ f) = k = id_y \circ k = Gg \circ Gf \ \ \ \ \checkmark$$


And now let's look at the natural transformation $N: F \Rightarrow G$ and make sure that it satisfies the naturality condition for the morphisms $f,g \in \mathcal{C}$.
$$N_b \circ Ff = k \circ id_x = Gf \circ N_a \ \ \ \ \checkmark$$
$$N_c \circ Fg = id_y \circ k = Gg \circ N_b \ \ \ \ \checkmark$$

Everything is working as expected.
Hopefully this helped to unpack some of the complexity behind the natural transformation definition.
In a real example, our functors would be defined equationally and we'd prove these properties for arbitrary morphisms instead of proving them for each morphism individually like we did here.

Categories, functors, and natural transformations are the core of category theory.
We'll be using them a lot in the upcoming sections.
First though, we're going to take a look at the kinds of structure that can exist inside an individual category.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section*{Structure within Categories: Duality, Universal Properties and (Co)Limits}
\subsection*{Kinds of Morphisms}

NOTE: Isomorphism in the category \textbf{Set} are bijective functions.
\begin{definition}[Isomorphism]
    We say that two objects in a category are isomorphic if there exists a morphism $f:a\rightarrow b$ for which there is another morphism $f^{-1}:b\rightarrow a$ such that $g\circ f=1_b$ and $f\circ g=1_a$.
    Such a morphism is called an isomorphism.
\end{definition}

NOTE: Monomorphism in the category \textbf{Set} are injective functions.
\begin{definition}[Monomorphism]
    A morphism $f:b\rightarrow c$ is a monomorphism if for any pair of parallel morphisms $g,h:a\rightarrow b$, $f\circ g=f\circ h$ implies that $g=h$.
\end{definition}

NOTE: Epimorphisms in the category \textbf{Set} are surjective functions.
\begin{definition}[Epimorphism]
    A morphism $f:b\rightarrow c$ is an epimorphism if for any pair of parallel morphisms $g,h:c\rightarrow d$, $g\circ f=h\circ f$ implies that $g=h$.
\end{definition}

\subsubsection*{Universal Properties}

\begin{definition}[Terminal Object]
    Let $t\in Ob(\mathcal{C})$ be given. Then $t$ is a terminal object in $\mathcal{C}$ if the following hold:
    \begin{enumerate}
        \item For all $x\in Ob(\mathcal{C})$, there is exactly one morphism $f:x\rightarrow t$.
        \item For any other object $t'$ in $\mathcal{C}$ that meets condition (1), there exists an unique isomorphism $g:t\rightarrow t'$.
    \end{enumerate}
\end{definition}

Dual to terminal objects are initial objects.
\begin{definition}[Initial Object]
    Let $i\in Ob(\mathcal{C})$ be given. Then $i$ is a initial object in $\mathcal{C}$ if the following hold:
    \begin{enumerate}
        \item For all $x\in Ob(\mathcal{C})$, there is exactly one morphism $f:i\rightarrow x$.
        \item For any other object $i'$ in $\mathcal{C}$ that meets condition (1), there exists an unique isomorphism $g:i\rightarrow i'$.
    \end{enumerate}
\end{definition}

In category theory there's a universal property that generalizes notions of multiplication called the product.
\begin{definition}[Product]
    Let $a,b,v\in Ob(\mathcal{C})$ and morphisms $f:v\rightarrow a$ and $g:v\rightarrow b$ be given.
    The object $v$ is a product of $a$ and $b$ if the following holds:
    \begin{enumerate}
        \item For any other object $x$ with morphisms $f':x\rightarrow a$ and $g':x\rightarrow b$, there is a unique isomorphism $k:x\rightarrow v$ such that $f\circ k=f'$ and $g\circ k=g'$.
    \end{enumerate}

    This means the following diagram commutes:
    \[\begin{tikzcd}
            & x \\
            & v \\
            a && b
            \arrow["f", from=2-2, to=3-1]
            \arrow["g"', from=2-2, to=3-3]
            \arrow["{g'}", curve={height=-12pt}, from=1-2, to=3-3]
            \arrow["{f'}"', curve={height=12pt}, from=1-2, to=3-1]
            \arrow["k", dashed, from=1-2, to=2-2]
        \end{tikzcd}\]

\end{definition}
This conditions ensures that the object $v$ is the universal or canonical object satisfying the pattern, with the morphisms of any other such object being able to be written as a sort of embellishment of the morphisms from $v$.

Dual to products are coproducts, which generalize the notion of addition.
\begin{definition}[Coproduct]
    Let $a,b,v\in Ob(\mathcal{C})$ and morphisms $f:a\rightarrow v$ and $g:b\rightarrow v$ be given.
    The object $v$ is a coproduct of $a$ and $b$ if the following holds:
    \begin{enumerate}
        \item For any other object $x$ with morphisms $f':a\rightarrow x$ and $g':b\rightarrow x$, there is a unique isomorphism $k:v\rightarrow x$ such that $k\circ f=f'$ and $k\circ g=g'$.
    \end{enumerate}

    This means the following diagram commutes:
    \[\begin{tikzcd}
            & x \\
            & v \\
            a && b
            \arrow["g", from=3-3, to=2-2]
            \arrow["f"', from=3-1, to=2-2]
            \arrow["k"', dashed, from=2-2, to=1-2]
            \arrow["{g'}"', curve={height=12pt}, from=3-3, to=1-2]
            \arrow["{f'}", curve={height=-12pt}, from=3-1, to=1-2]
        \end{tikzcd}\]

\end{definition}

NOTE: In \textbf{Set}, equalizers pick out the subset of a set $a$ that is the intersection of the preimages $f^{-1}:b\rightarrow a$ and $g^{-1}:b\rightarrow a$.
\begin{definition}[Equalizer]
    Let $a,b,v\in Ob(\mathcal{C})$ and let morphisms $f:a\rightarrow b$, $g:a\rightarrow b$, and $h:v\rightarrow a$ be given.
    The object $v$ is an equalizer if the following hold:
    \begin{enumerate}
        \item $f\circ h=g\circ h$.
        \item For any other object $x\in Ob(\mathcal{C})$ with morphism $h':x\rightarrow a$ such that $f\circ h'=g\circ h'$, there exists a unique morphism $k:x\rightarrow v$ such that $h'=h\circ k$.
    \end{enumerate}

    This means the following diagram commutes:
    \[\begin{tikzcd}
            x & v & a & b
            \arrow["h", from=1-2, to=1-3]
            \arrow["f", shift left, from=1-3, to=1-4]
            \arrow["g"', shift right, from=1-3, to=1-4]
            \arrow["k", dashed, from=1-1, to=1-2]
            \arrow["{h'}"', curve={height=12pt}, from=1-1, to=1-3]
        \end{tikzcd}\]

\end{definition}

NOTE: In \textbf{Set}, coequalizers pick out the subset of a set $b$ that is the intersection of the images $f:a\rightarrow b$ and $g:a\rightarrow b$.
\begin{definition}[Coequalizer]
    Let $a,b,v\in Ob(\mathcal{C})$ and let morphisms $f:a\rightarrow b$, $g:a\rightarrow b$, and $h:b\rightarrow v$ be given.
    The object $v$ is a coequalizer if the following hold:
    \begin{enumerate}
        \item $h\circ f=h\circ g$.
        \item For any other object $x\in Ob(\mathcal{C})$ with morphism $h':b\rightarrow x$ such that $h'\circ f=h'\circ g$, there exists a unique morphism $k:v\rightarrow x$ such that $h'=k\circ h$.
    \end{enumerate}

    This means that the following diagram commutes:
    \[\begin{tikzcd}
            a & b & v & x
            \arrow["h", from=1-2, to=1-3]
            \arrow["f", shift left, from=1-1, to=1-2]
            \arrow["g"', shift right, from=1-1, to=1-2]
            \arrow["k", dashed, from=1-3, to=1-4]
            \arrow["{h'}"', curve={height=12pt}, from=1-2, to=1-4]
        \end{tikzcd}\]

\end{definition}

NOTE: In \textbf{Set}, pullbacks are the fiber product of two sets.
\begin{definition}[Pullback]
    Let $a, b, c, v\in Ob(\mathcal{C})$ and let morphisms $f:a\rightarrow c$, $g:b\rightarrow c$, $h:v\rightarrow a$, and $k:v\rightarrow b$ be given.
    The object $v$ is a pullback if the following hold:
    \begin{enumerate}
        \item $f\circ h=g\circ k$.
        \item For any other object $x\in Ob(\mathcal{C})$ with morphisms $h':x\rightarrow a$, and $k':x\rightarrow b$ such that $f'\circ h=g'\circ k$, there exists a unique morphism $j:x\rightarrow v$ such that $f'=f\circ j$ and $g'=g\circ j$.
    \end{enumerate}

    This means that the following diagram commutes:
    \[\begin{tikzcd}
            x \\
            & v && a \\
            \\
            & b && c
            \arrow["h", from=2-2, to=2-4]
            \arrow["k"', from=2-2, to=4-2]
            \arrow["f", from=2-4, to=4-4]
            \arrow["g"', from=4-2, to=4-4]
            \arrow["{h'}", curve={height=-12pt}, from=1-1, to=2-4]
            \arrow["{k'}"', curve={height=12pt}, from=1-1, to=4-2]
            \arrow["j", dashed, from=1-1, to=2-2]
        \end{tikzcd}\]

\end{definition}

NOTE: In \textbf{Set}, pushouts are...
\begin{definition}[Pushout]
    Let $a, b, c, v\in Ob(\mathcal{C})$ and let morphisms $f:c\rightarrow a$, $g:c\rightarrow b$, $h:a\rightarrow v$, and $k:b\rightarrow v$ be given.
    The object $v$ is a pushout if the following hold:
    \begin{enumerate}
        \item $h\circ f=k\circ g$.
        \item For any other object $x\in Ob(\mathcal{C})$ with morphisms $h':a\rightarrow x$, and $k':b\rightarrow x$ such that $h'\circ f=k'\circ g$, there exists a unique morphism $j:v\rightarrow x$ such that $h'=j\circ h$ and $k'=j\circ k$.
    \end{enumerate}

    This means that the following diagram commutes:
    \[\begin{tikzcd}
            c && b \\
            \\
            a && v \\
            &&& x
            \arrow["h"', from=3-1, to=3-3]
            \arrow["k", from=1-3, to=3-3]
            \arrow["f"', from=1-1, to=3-1]
            \arrow["g", from=1-1, to=1-3]
            \arrow["{h'}"', curve={height=12pt}, from=3-1, to=4-4]
            \arrow["{k'}", curve={height=-12pt}, from=1-3, to=4-4]
            \arrow["j", dashed, from=3-3, to=4-4]
        \end{tikzcd}\]

\end{definition}

In this last part of the section we're going to discuss a generalization of all of the previous universal properties called cones and cocones.
A cone consists of any finite collection of objects and morphisms between them, combined with an additional object $v$ called the vertex of the cone and morphisms from $v$ to all other objects in the collection.
Such a cone is universal if for all other cones of that type in the category there is a unique morphisms from their vertex to $v$: i.e, $k:v'\rightarrow v$ exists and is unique.\\\\

A cocone consists of any finite collection of objects and morphisms between them, combined with an additional object $v$ called the vertex of the cocone and morphisms from all other objects in the collection to $v$.
Such a cocone is universal if for all other cocones of that type in the category there is a unique morphisms from $v$ to their vertex: i.e, $k:\rightarrow v'$ exists and is unique.\\\\

\subsubsection*{Limits and Colimits}
Given any cone, if there is an instance of that cone for which all other instances have a unique morphism to it, that cone is the limit.
Dually for cocones and colimits.
In fact, it's possible to construct a category whose objects are the cones and whose morphisms are these unique factorizations.
In this category, the limit is a terminal object.
Dually for cocones and colimits again, except the colimit is an initial object in the constructed category of cocones instead of a terminal object.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%5
\subsection*{Structure Between Categories}

\subsubsection*{Kinds of Functors}

\begin{definition}[Full Functor]
    A functor $F:\mathcal{C}\rightarrow\mathcal{D}$ is full if for each $x,y\in Ob(\mathcal{C})$, the map $\mathcal{C}(x, y)\rightarrow\mathcal{D}(Fx,Fy)$ is surjective.
\end{definition}

\begin{definition}[Faithful Functor]
    A functor $F:\mathcal{C}\rightarrow\mathcal{D}$ is faithful if for each $x,y\in Ob(\mathcal{C})$, the map $\mathcal{C}(x, y)\rightarrow\mathcal{D}(Fx,Fy)$ is injective.
\end{definition}

\begin{definition}[Essentially Surjective On Objects]
    A functor $F:\mathcal{C}\rightarrow\mathcal{D}$ is essentially surjective on objects if for each $y\in Ob(\mathcal{D})$, there is some $x\in Ob(\mathcal{C})$ such that $y$ is isomorphic to $Fc$.
\end{definition}

\begin{definition}[Injective on Objects]
    A functor $F:\mathcal{C}\rightarrow\mathcal{D}$ is injective on objects if for each $x\in Ob(\mathcal{C})$, there is a unique $y\in Ob(\mathcal{D})$ such that $y=Fx$.
\end{definition}

NOTE: Play a huge role in category theory: i.e in the Yoneda lemma\\
NOTE: Representable functors require that the source category $\mathcal{C}$ be locally small so that the collections of morphisms between objects in the category are sets.
\begin{definition}[Covariant Representable]
    A functor $F:\mathcal{C}\rightarrow\mathbf{Set}$ is representable if there is an object $c\in Ob(\mathcal{C})$ such that the functor $\mathcal{C}(c,-):\mathcal{C}\rightarrow \mathbf{Set}$ is naturally isomorphic to $F$.
\end{definition}


\begin{definition}[Contravariant Representable]
    A functor $F:\mathcal{C}^{op}\rightarrow\mathbf{Set}$ is representable if there is an object $c\in Ob(\mathcal{C})$ such that the functor $\mathcal{C}(-,c):\mathcal{C}^{op}\rightarrow \mathbf{Set}$ is naturally isomorphic to $F$.
\end{definition}


\begin{definition}[Forgetful]
    A forgetful functor $F:\mathcal{C}\rightarrow\mathbf{Set}$ is a functor that sends objects in a category of structures-on-sets, like groups or preorders, to the underlying sets themselves.
    They "forget" the additional structure in the source category.
\end{definition}

\begin{definition}[Free]
    A free functor $F:\mathbf{Set}\rightarrow\mathcal{C}$ is a functor that sends sets to the free construction on that set, like the free group on the set.
    They construct the desired structure on the set in a way that requires no choices.
\end{definition}



\subsubsection*{Comparing Categories}

\begin{definition}[Subcategory]
    A category $\mathcal{C}$ with a functor $F:\mathcal{C}\rightarrow\mathcal{D}$ that is both faithful and injective on objects is a subcategory of the domain $\mathcal{D}$.
    A functor $F$ of this type is called an \textbf{embedding} of $\mathcal{C}$ into $\mathcal{D}$.
\end{definition}


\begin{definition}[Full Subcategory]
    A category $\mathcal{C}$ with a functor $F:\mathcal{C}\rightarrow\mathcal{D}$ that is full, faithful, and injective on objects is a full subcategory of the domain $\mathcal{D}$.
    A functor $F$ of this type is called a \textbf{full embedding} of $\mathcal{C}$ into $\mathcal{D}$.
\end{definition}


\begin{definition}[Natural Isomorphism]
    A natural isomorphism is a natural tranformation $\alpha:F\rightarrow G$ where all of the c-components of the transformation $\alpha_{c}:Fc\rightarrow Gc$ are isomorphisms.
    This means there exists some other natural transformation $\eta:G\rightarrow F$ such that $\eta_c\circ\alpha_c = 1_{Fc}$ and $\alpha_c\circ\eta_c = 1_{Gc}$.
\end{definition}


\begin{definition}[Adjunctions]
    An adjunction is a pair of functors $F:\mathcal{C}\rightarrow\mathcal{D}$ and $G:\mathcal{D}\rightarrow\mathcal{C}$ such that for any object $c\in Ob(\mathcal{C})$ and any object $d\in Ob(\mathcal{D})$ there is an isomorphism between the sets of functions between them and their images under the functors that is natural.
    In other words, that for every $c\in Ob(\mathcal{C})$ and $d\in Ob(\mathcal{D})$ there is a natural isomorphism $\mathcal{C}(c,Gd)\cong\mathcal{D}(Fc,d)$.\\\\
    In this case, the functor $F$ is the left adjoint functor and the functor $G$ is the right adjoint functor.
\end{definition}

\begin{definition}[Monad]
    Given a category $\mathcal{C}$, a monad on $\mathcal{C}$ is a functor $M:\mathcal{C}\rightarrow\mathcal{C}$ with the following two natural transformations:
    \begin{enumerate}
        \item $\eta : 1_{\mathcal{C}} \rightarrow M$ called the unit.
        \item $\mu: M\circ M \rightarrow M$ called the multiplication.
    \end{enumerate}
    These natural transformation are required to make the following diagrams commute.

    \[\begin{tikzcd}
            M\circ M\circ M && M\circ M \\
            \\
            M\circ M && M
            \arrow["M\mu", from=1-1, to=1-3]
            \arrow["\mu", from=1-3, to=3-3]
            \arrow["\mu"', from=3-1, to=3-3]
            \arrow["{\mu M}"', from=1-1, to=3-1]
        \end{tikzcd}\]

    \[\begin{tikzcd}
            M && M\circ M && M \\
            \\
            && M
            \arrow["{\eta M}", from=1-1, to=1-3]
            \arrow["M\eta"', from=1-5, to=1-3]
            \arrow["\mu", from=1-3, to=3-3]
            \arrow["{1_M}", from=1-5, to=3-3]
            \arrow["{1_M}"', from=1-1, to=3-3]
        \end{tikzcd}\]

    These commutative diagrams with the natural transformations $\eta$ and $\mu$ create a kind of monoidal structure on the collection of endofunctors $M, M\circ M, M\circ M\circ M, etc.$.
\end{definition}

\subsubsection*{The Yoneda Lemma}
\begin{definition}
    The Yoneda lemma states that for any functor $F:\mathcal{C}\rightarrow\mathbf{Set}$ where $\mathcal{C}$ is locally small and any object $c\in Ob(\mathcal{C})$, there is a bijection between the collection of natural transformations going from the functor $\mathcal{C}(c,-)$ to $F$ and the object $Fc\in Ob(\mathbf{Set})$.
    \\\\Stated another way, this means that $Hom(\mathcal{C}(c,-), F)\cong Fc$ for any functor $F:\mathcal{C}\rightarrow\mathbf{Set}$ and all objects $c\in Ob(\mathcal{C})$.

\end{definition}


\subsection*{Adding Structure to Categories}
\begin{definition}[Monoidal Categories]
    A category $\mathcal{C}$ is monoidal if the following exist.
    \begin{enumerate}
        \item A functor $\otimes:\mathcal{C}\times\mathcal{C}\rightarrow\mathcal{C}$ called the monoidal product.
        \item An object $\mathbbm{1}\in ob(\mathcal{C})$ called the unit.
        \item A natural isomorphism $\alpha : (a\otimes b)\otimes c\rightarrow a\otimes (b\otimes c)$ called the associator, with components $\alpha_{x,y,z}: (x\otimes y)\otimes z\rightarrow x\otimes (y\otimes z)$.
        \item A natural isomorphism $\lambda : \mathbbm{1}\otimes a\rightarrow a$ called the left unitor with components $\lambda_x : \mathbbm{1}\otimes x\rightarrow x$.
        \item A natural isomorphism $\rho : a\otimes \mathbbm{1}\rightarrow a$ called the right unitor with components $\lambda_x : x\otimes \mathbbm{1}\rightarrow x$.
    \end{enumerate}
    All of the above must exist such that the following two diagrams, called the triangle identity and the pentagon identity, commute.
    \[\begin{tikzcd}
            {(x\otimes\mathbbm{1})\otimes y} && {x\otimes(\mathbbm{1}\otimes y)} \\
            \\
            && {x\otimes y}
            \arrow["{{\rho_x\otimes 1_y}}"', from=1-1, to=3-3]
            \arrow["{{1_x\otimes\lambda_y}}", from=1-3, to=3-3]
            \arrow["{{\alpha_{x,y,z}}}", from=1-1, to=1-3]
        \end{tikzcd}\]

    \[\begin{tikzcd}
            {((w\otimes x)\otimes y)\otimes z} && {(w\otimes x)\otimes(y\otimes z)} \\
            \\
            {(w\otimes (x\otimes y))\otimes z} \\
            \\
            {w\otimes ((x\otimes y)\otimes z)} && {w\otimes (x\otimes (y\otimes z))}
            \arrow["{{\alpha_{w,x,(y\otimes z)}}}", from=1-3, to=5-3]
            \arrow["{{\alpha_{(w\otimes x),y,z}}}", from=1-1, to=1-3]
            \arrow["{{\alpha_{w,x,y}\otimes 1_z}}"', from=1-1, to=3-1]
            \arrow["{{\alpha_{w,(x\otimes y),z}}}"', from=3-1, to=5-1]
            \arrow["{{1_w\otimes \alpha_{x,y,z}}}"', from=5-1, to=5-3]
        \end{tikzcd}\]
\end{definition}
\begin{definition}[Symmetric Monoidal Category]
    A monoidal category equipped with a natural isomorphism $\beta:a\otimes b\rightarrow b\otimes a$, called its braiding, is symmetric if $\beta_{y,x}\circ\beta_{x,y}=1_{x\otimes y}$ for all $x,y\in Ob(\mathcal{C})$
    and if the following diagram, called the hexagon identity, commutes.
    \[\begin{tikzcd}
            {(x\otimes y)\otimes z} && {x \otimes (y \otimes z)} && {(y\otimes z)\otimes x} \\
            \\
            \\
            {(y\otimes x)\otimes z} && {y\otimes (x\otimes z)} && {y\otimes (z\otimes x)}
            \arrow["{\alpha_{x,y,z}}", from=1-1, to=1-3]
            \arrow["{\beta_{x,y\otimes z}}", from=1-3, to=1-5]
            \arrow["{\alpha_{y,z,x}}", from=1-5, to=4-5]
            \arrow["{\beta_{x,y}\otimes 1_z}"', from=1-1, to=4-1]
            \arrow["{\alpha_{y,x,z}}"', from=4-1, to=4-3]
            \arrow["{1_y \otimes \beta_{x,y}}"', from=4-3, to=4-5]
        \end{tikzcd}\]
\end{definition}

\begin{definition}[Cartesian Monoidal Category]
    A monoidal category $\mathcal{C}$ is cartesian when its monoidal product is its categorical product and its monoidal unit is its terminal object.
    This obviously means that $\mathcal{C}$ must contain all products and have a terminal object.
\end{definition}
An example of this would be \textbf{Set}, where the Cartesian product is the monoidal product and the singleton set is the monoidal unit.

\section*{Categorical System Theory}
Systems are everywhere in science and engineering.
Whether discrete or continuous, deterministic or stochastic, all such systems have two things in common: states that they can be in, and rules for how the system's current state changes.
These two features alone describe what are called closed systems.
Closed systems are systems that don't interact with others or with an outside environment that they're a part of.
This is a hobbling limitation.
In order to open these systems up we need to give them an interface.
We need them to be able to accept inputs that shape the way they evolve, and we need them to be able to expose some part of their current state to their surrounding environment.
This is the gift that category theory will give us.
By opening our systems up, we open them to the power of composition.
We can connect them.
\subsection*{The Category $\textbf{Lens}_{\mathcal{C}}$}
Given a cartesian category, it's possible to construct a new category of systems whose states are drawn from the objects of your base category and whose rules for updating their state are drawn from the morphism of your base category.
We call this category $\textbf{Lens}_{\mathcal{C}}$, where $\mathcal{C}$ is the base category.
The objects in this category are called arenas and the morphisms between them are called lenses.

\begin{definition}[Lenses]
    Given a cartesian category $\mathcal{C}$ and objects $A^-, A^+, B^-, B^+ \in ob(\mathcal{C})$, a lens consists of a passforward map $f:A^+\rightarrow B^+$ and a passback map $f^\#:A^+ \times B^- \rightarrow A^-$ between two arenas as follows:
    \[
        \begin{pmatrix}f^{\#}\\f\end{pmatrix}:\begin{pmatrix}A^-\\A^+\end{pmatrix}\leftrightarrows\begin{pmatrix}B^-\\B^+\end{pmatrix}
    \]
\end{definition}

For our purposes we'll be sticking to two such categories: the category of lenses over the category of sets and functions, $\textbf{Lens}_{\textbf{Set}}$, for discrete systems and the category of Euclidean spaces and smooth functions, $\textbf{Lens}_\textbf{Euc}$, for differential systems.

\begin{definition}[The Category $\textbf{Lens}_\mathcal{C}$]
    Given the cartesian category $\mathcal{C}$, the category $\textbf{Lens}_{\mathcal{C}}$ has the following properties.
    \begin{enumerate}
        \item A collection of objects called arenas. An arena $\begin{pmatrix}A^-\\A^+\end{pmatrix}$ is a pair of objects in $\mathcal{C}$.
        \item For each pair of arenas a collection of morphisms $\begin{pmatrix}f^{\#}\\f\end{pmatrix}:\begin{pmatrix}A^-\\A^+\end{pmatrix}\leftrightarrows\begin{pmatrix}B^-\\B^+\end{pmatrix}$ called lenses.
        \item For each arena an identity lens $\begin{pmatrix}\pi_2\\1_{A^+}\end{pmatrix}:\begin{pmatrix}A^-\\A^+\end{pmatrix}\leftrightarrows\begin{pmatrix}A^-\\A^+\end{pmatrix}$ where the passback map $\pi_2$ is the projection $\pi_2:A^+ \times A^- \rightarrow A^-$.
        \item For any two compatible lenses a composite lens as follows:
              $$\begin{pmatrix}f^{\#}\\f\end{pmatrix}:\begin{pmatrix}A^-\\A^+\end{pmatrix}\leftrightarrows\begin{pmatrix}B^-\\B^+\end{pmatrix}$$
              $$\begin{pmatrix}g^{\#}\\g\end{pmatrix}:\begin{pmatrix}B^-\\B^+\end{pmatrix}\leftrightarrows\begin{pmatrix}C^-\\C^+\end{pmatrix}$$
              $$\begin{pmatrix}g^{\#}\\g\end{pmatrix} \circ \begin{pmatrix}f^{\#}\\f\end{pmatrix}:\begin{pmatrix}A^-\\A^+\end{pmatrix}\leftrightarrows\begin{pmatrix}C^-\\C^+\end{pmatrix}$$
              \\such that the passforward map is defined as $a^+ \mapsto g(f(a^+))$,
              and the passback map is defined as $(a^+, c^-) \mapsto f^\#(a^+, g^\#(f(a^+), c^-))$.
    \end{enumerate}
    $\textbf{Lens}_{\mathcal{C}}$ is also a monoidal category with the monoidal product being defined as follows.
    \begin{enumerate}
        \item The monoidal unit is the arena $\begin{pmatrix}1\\1\end{pmatrix}$.
        \item Given lenses $\begin{pmatrix}f^{\#}\\f\end{pmatrix}:\begin{pmatrix}A^-\\A^+\end{pmatrix}\leftrightarrows\begin{pmatrix}B^-\\B^+\end{pmatrix}$
              and $\begin{pmatrix}g^{\#}\\g\end{pmatrix}:\begin{pmatrix}C^-\\C^+\end{pmatrix}\leftrightarrows\begin{pmatrix}D^-\\D^+\end{pmatrix}$, the monoidal product
              $$\begin{pmatrix}f^{\#}\\f\end{pmatrix} \otimes \begin{pmatrix}g^{\#}\\g\end{pmatrix}:\begin{pmatrix}A^- \times C^-\\A^+ \times C^+\end{pmatrix}\leftrightarrows\begin{pmatrix}B^- \times D^-\\B^+ \times D^+\end{pmatrix}$$
              such that the passforward map is defined as $(a^+, c^+) \mapsto (f(a^+), g(c^+))$ and the passback map is defined as $((a^+, c^+), (b^-, d^-)) \mapsto ((f^\#(a^+, b^-)), g^\#(c^+, d^-))$.

    \end{enumerate}
\end{definition}


\nocite{*}

\pagebreak

\bibliography{references}
\bibliographystyle{annotate}
\end{document}



